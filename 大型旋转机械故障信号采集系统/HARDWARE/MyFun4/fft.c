/*
 * File: fft.c
 *
 * MATLAB Coder version            : 4.3
 * C/C++ source code generated on  : 25-Sep-2022 20:58:03
 */

/* Include Files */
#include "fft.h"
#include "MyFun4.h"
#include "MyFun4_data.h"
#include "rt_nonfinite.h"

/* Function Definitions */

/*
 * Arguments    : const float x[1024]
 *                creal_T y[1024]
 * Return Type  : void
 */
void fft(const float x[1024], creal32_T y[1024])
{
  int ix;
  int ju;
  int iy;
  int i;
  bool tst;
  float twid_re;
  float temp_re;
  float twid_im;
  int iheight;
  float temp_im;
  float re;
  float im;
  int istart;
  int temp_re_tmp;
  int j;
  static const float b_dv[513] = { 0.0, 0.00613588,
    0.01227154, 0.01840673, 0.02454123,
    0.03067480, 0.03680722, 0.04293826,
    0.04906767, 0.05519524, 0.06132074,
    0.06744392, 0.07356456, 0.07968244,
    0.08579731, 0.09190896, 0.09801714,
    0.10412163, 0.11022221, 0.11631863,
    0.12241068, 0.12849811, 0.13458071,
    0.14065824, 0.14673047, 0.15279719,
    0.15885814, 0.16491312, 0.17096188,
    0.17700422, 0.18303988, 0.18906866,
    0.19509032, 0.20110463, 0.20711137,
    0.21311032, 0.21910124, 0.22508391,
    0.23105811, 0.23702360, 0.24298018,
    0.24892760, 0.25486566, 0.26079412,
    0.26671276, 0.27262135, 0.27851969,
    0.28440754, 0.29028468, 0.29615089,
    0.30200595, 0.30784964, 0.31368174,
    0.31950203, 0.32531029, 0.33110630,
    0.33688985, 0.34266072, 0.34841868,
    0.35416352, 0.35989503, 0.36561299,
    0.37131719, 0.37700741, 0.38268343,
    0.38834505, 0.39399204, 0.39962419,
    0.40524131, 0.41084317, 0.41642956,
    0.42200027, 0.42755509, 0.43309382,
    0.43861624, 0.44412214, 0.44961133,
    0.45508359, 0.46053871, 0.46597649,
    0.47139673, 0.47679923, 0.48218377,
    0.48755016, 0.49289819222978404f, 0.49822766697278181f,
    0.50353838372571758f, 0.508830142543107f, 0.51410274419322166f,
    0.51935599016558964f, 0.524589682678469f, 0.52980362468629461f,
    0.53499761988709715f, 0.54017147272989285f, 0.54532498842204646f,
    0.55045797293660481f, 0.55557023301960218f, 0.560661576197336f,
    0.56573181078361312f, 0.57078074588696726f, 0.57580819141784534f,
    0.58081395809576453f, 0.58579785745643886f, 0.59075970185887416f,
    0.59569930449243336f, 0.600616479383869f, 0.60551104140432555f,
    0.61038280627630948f, 0.61523159058062682f, 0.6200572117632891f,
    0.62485948814238634f, 0.629638238914927f, 0.63439328416364549f,
    0.63912444486377573f, 0.64383154288979139f, 0.64851440102211244f,
    0.65317284295377676f, 0.65780669329707864f, 0.66241577759017178f,
    0.66699992230363747f, 0.67155895484701833f, 0.67609270357531592f,
    0.680600997795453f, 0.68508366777270036f, 0.68954054473706683f,
    0.69397146088965389f, 0.69837624940897292f, 0.7027547444572253f,
    0.70710678118654757f, 0.71143219574521643f, 0.71573082528381859f,
    0.72000250796138165f, 0.724247082951467f, 0.7284643904482252f,
    0.73265427167241282f, 0.73681656887736979f, 0.74095112535495922f,
    0.745057785441466f, 0.74913639452345937f, 0.75318679904361252f,
    0.75720884650648457f, 0.76120238548426178f, 0.765167265622459f,
    0.7691033376455797f, 0.773010453362737f, 0.77688846567323244f,
    0.78073722857209449f, 0.78455659715557524f, 0.78834642762660634f,
    0.79210657730021239f, 0.79583690460888357f, 0.799537269107905f,
    0.80320753148064494f, 0.80684755354379933f, 0.81045719825259477f,
    0.81403632970594841f, 0.81758481315158371f, 0.82110251499110465f,
    0.82458930278502529f, 0.8280450452577558f, 0.83146961230254524f,
    0.83486287498638f, 0.83822470555483808f, 0.84155497743689844f,
    0.84485356524970712f, 0.84812034480329723f, 0.8513551931052652f,
    0.85455798836540053f, 0.85772861000027212f, 0.86086693863776731f,
    0.8639728561215867f, 0.86704624551569265f, 0.87008699110871146f,
    0.87309497841829009f, 0.8760700941954066f, 0.87901222642863353f,
    0.881921264348355f, 0.88479709843093779f, 0.88763962040285393f,
    0.89044872324475788f, 0.89322430119551532f, 0.89596624975618522f,
    0.89867446569395382f, 0.901348847046022f, 0.90398929312344334f,
    0.90659570451491533f, 0.90916798309052238f, 0.91170603200542988f,
    0.91420975570353069f, 0.9166790599210427f, 0.91911385169005777f,
    0.9215140393420419f, 0.92387953251128674f, 0.92621024213831138f,
    0.92850608047321559f, 0.93076696107898371f, 0.932992798834739f,
    0.93518350993894761f, 0.937339011912575f, 0.93945922360218992f,
    0.94154406518302081f, 0.94359345816196039f, 0.94560732538052128f,
    0.94758559101774109f, 0.94952818059303667f, 0.95143502096900834f,
    0.95330604035419386f, 0.95514116830577078f, 0.95694033573220882f,
    0.9587034748958716f, 0.96043051941556579f, 0.96212140426904158f,
    0.96377606579543984f, 0.9653944416976894f, 0.96697647104485207f,
    0.96852209427441727f, 0.970031253194544f, 0.97150389098625178f,
    0.97293995220556018f, 0.97433938278557586f, 0.97570213003852857f,
    0.97702814265775439f, 0.97831737071962765f, 0.97956976568544052f,
    0.98078528040323043f, 0.98196386910955524f, 0.98310548743121629f,
    0.984210092386929f, 0.98527764238894122f, 0.98630809724459867f,
    0.98730141815785843f, 0.98825756773074946f, 0.989176509964781f,
    0.99005821026229712f, 0.99090263542778f, 0.99170975366909953f, 0.99247953459871f,
    0.9932119492347945f, 0.99390697000235606f, 0.99456457073425542f,
    0.99518472667219693f, 0.99576741446765982f, 0.996312612182778f,
    0.99682029929116567f, 0.99729045667869021f, 0.99772306664419164f,
    0.99811811290014918f, 0.99847558057329477f, 0.99879545620517241f,
    0.99907772775264536f, 0.99932238458834954f, 0.99952941750109314f,
    0.99969881869620425f, 0.9998305817958234f, 0.9999247018391445f,
    0.99998117528260111f, 1.0, 0.99998117528260111f, 0.9999247018391445f,
    0.9998305817958234f, 0.99969881869620425f, 0.99952941750109314f,
    0.99932238458834954f, 0.99907772775264536f, 0.99879545620517241f,
    0.99847558057329477f, 0.99811811290014918f, 0.99772306664419164f,
    0.99729045667869021f, 0.99682029929116567f, 0.996312612182778f,
    0.99576741446765982f, 0.99518472667219693f, 0.99456457073425542f,
    0.99390697000235606f, 0.9932119492347945f, 0.99247953459871f,
    0.99170975366909953f, 0.99090263542778f, 0.99005821026229712f,
    0.989176509964781f, 0.98825756773074946f, 0.98730141815785843f,
    0.98630809724459867f, 0.98527764238894122f, 0.984210092386929f,
    0.98310548743121629f, 0.98196386910955524f, 0.98078528040323043f,
    0.97956976568544052f, 0.97831737071962765f, 0.97702814265775439f,
    0.97570213003852857f, 0.97433938278557586f, 0.97293995220556018f,
    0.97150389098625178f, 0.970031253194544f, 0.96852209427441727f,
    0.96697647104485207f, 0.9653944416976894f, 0.96377606579543984f,
    0.96212140426904158f, 0.96043051941556579f, 0.9587034748958716f,
    0.95694033573220882f, 0.95514116830577078f, 0.95330604035419386f,
    0.95143502096900834f, 0.94952818059303667f, 0.94758559101774109f,
    0.94560732538052128f, 0.94359345816196039f, 0.94154406518302081f,
    0.93945922360218992f, 0.937339011912575f, 0.93518350993894761f,
    0.932992798834739f, 0.93076696107898371f, 0.92850608047321559f,
    0.92621024213831138f, 0.92387953251128674f, 0.9215140393420419f,
    0.91911385169005777f, 0.9166790599210427f, 0.91420975570353069f,
    0.91170603200542988f, 0.90916798309052238f, 0.90659570451491533f,
    0.90398929312344334f, 0.901348847046022f, 0.89867446569395382f,
    0.89596624975618522f, 0.89322430119551532f, 0.89044872324475788f,
    0.88763962040285393f, 0.88479709843093779f, 0.881921264348355f,
    0.87901222642863353f, 0.8760700941954066f, 0.87309497841829009f,
    0.87008699110871146f, 0.86704624551569265f, 0.8639728561215867f,
    0.86086693863776731f, 0.85772861000027212f, 0.85455798836540053f,
    0.8513551931052652f, 0.84812034480329723f, 0.84485356524970712f,
    0.84155497743689844f, 0.83822470555483808f, 0.83486287498638f,
    0.83146961230254524f, 0.8280450452577558f, 0.82458930278502529f,
    0.82110251499110465f, 0.81758481315158371f, 0.81403632970594841f,
    0.81045719825259477f, 0.80684755354379933f, 0.80320753148064494f,
    0.799537269107905f, 0.79583690460888357f, 0.79210657730021239f,
    0.78834642762660634f, 0.78455659715557524f, 0.78073722857209449f,
    0.77688846567323244f, 0.773010453362737f, 0.7691033376455797f,
    0.765167265622459f, 0.76120238548426178f, 0.75720884650648457f,
    0.75318679904361252f, 0.74913639452345937f, 0.745057785441466f,
    0.74095112535495922f, 0.73681656887736979f, 0.73265427167241282f,
    0.7284643904482252f, 0.724247082951467f, 0.72000250796138165f,
    0.71573082528381859f, 0.71143219574521643f, 0.70710678118654757f,
    0.7027547444572253f, 0.69837624940897292f, 0.69397146088965389f,
    0.68954054473706683f, 0.68508366777270036f, 0.680600997795453f,
    0.67609270357531592f, 0.67155895484701833f, 0.66699992230363747f,
    0.66241577759017178f, 0.65780669329707864f, 0.65317284295377676f,
    0.64851440102211244f, 0.64383154288979139f, 0.63912444486377573f,
    0.63439328416364549f, 0.629638238914927f, 0.62485948814238634f,
    0.6200572117632891f, 0.61523159058062682f, 0.61038280627630948f,
    0.60551104140432555f, 0.600616479383869f, 0.59569930449243336f,
    0.59075970185887416f, 0.58579785745643886f, 0.58081395809576453f,
    0.57580819141784534f, 0.57078074588696726f, 0.56573181078361312f,
    0.560661576197336f, 0.55557023301960218f, 0.55045797293660481f,
    0.54532498842204646f, 0.54017147272989285f, 0.53499761988709715f,
    0.52980362468629461f, 0.524589682678469f, 0.51935599016558964f,
    0.51410274419322166f, 0.508830142543107f, 0.50353838372571758f,
    0.49822766697278181f, 0.49289819222978404f, 0.487550160148436f,
    0.48218377207912272f, 0.47679923006332209f, 0.47139673682599764f,
    0.46597649576796618f, 0.46053871095824f, 0.45508358712634384f,
    0.44961132965460654f, 0.4441221445704292f, 0.43861623853852766f,
    0.43309381885315196f, 0.42755509343028208f, 0.42200027079979968f,
    0.41642956009763715f, 0.41084317105790391f, 0.40524131400498986f,
    0.39962419984564679f, 0.3939920400610481f, 0.38834504669882625f,
    0.38268343236508978f, 0.37700741021641826f, 0.37131719395183749f,
    0.36561299780477385f, 0.35989503653498811f, 0.35416352542049034f,
    0.34841868024943456f, 0.34266071731199438f, 0.33688985339222005f,
    0.33110630575987643f, 0.32531029216226293f, 0.31950203081601569f,
    0.31368174039889152f, 0.30784964004153487f, 0.30200594931922808f,
    0.29615088824362379f, 0.29028467725446233f, 0.28440753721127188f,
    0.27851968938505306f, 0.272621355449949f, 0.26671275747489837f,
    0.26079411791527551f, 0.25486565960451457f, 0.24892760574572015f,
    0.24298017990326387f, 0.2370236059943672f, 0.23105810828067111f,
    0.22508391135979283f, 0.2191012401568698f, 0.21311031991609136f,
    0.20711137619221856f, 0.2011046348420919f, 0.19509032201612825f,
    0.18906866414980619f, 0.18303988795514095f, 0.17700422041214875f,
    0.17096188876030122f, 0.16491312048996992f, 0.15885814333386145f,
    0.15279718525844344f, 0.14673047445536175f, 0.14065823933284921f,
    0.13458070850712617f, 0.12849811079379317f, 0.1224106751992162f,
    0.11631863091190475f, 0.11022220729388306f, 0.10412163387205459f,
    0.0980171403295606f, 0.091908956497132724f, 0.0857973123444399f,
    0.079682437971430126f, 0.073564563599667426f, 0.067443919563664051f,
    0.061320736302208578f, 0.055195244349689941f, 0.049067674327418015f,
    0.04293825693494082f, 0.036807222941358832f, 0.030674803176636626f,
    0.024541228522912288f, 0.01840672990580482f, 0.012271538285719925f,
    0.0061358846491544753f, 0.0 };

  int ihi;
  ix = 0;
  ju = 0;
  iy = 0;
  for (i = 0; i < 1023; i++) {
    y[iy].re = x[ix];
    y[iy].im = 0.0;
    iy = 1024;
    tst = true;
    while (tst) {
      iy >>= 1;
      ju ^= iy;
      tst = ((ju & iy) == 0);
    }

    iy = ju;
    ix++;
  }

  y[iy].re = x[ix];
  y[iy].im = 0.0;
  for (i = 0; i <= 1022; i += 2) {
    twid_re = y[i + 1].re;
    temp_re = twid_re;
    twid_im = y[i + 1].im;
    temp_im = twid_im;
    re = y[i].re;
    im = y[i].im;
    twid_re = y[i].re - twid_re;
    y[i + 1].re = twid_re;
    twid_im = y[i].im - twid_im;
    y[i + 1].im = twid_im;
    y[i].re = re + temp_re;
    y[i].im = im + temp_im;
  }

  iy = 2;
  ix = 4;
  ju = 256;
  iheight = 1021;
  while (ju > 0) {
    for (i = 0; i < iheight; i += ix) {
      temp_re_tmp = i + iy;
      temp_re = y[temp_re_tmp].re;
      temp_im = y[temp_re_tmp].im;
      y[temp_re_tmp].re = y[i].re - y[temp_re_tmp].re;
      y[temp_re_tmp].im = y[i].im - y[temp_re_tmp].im;
      y[i].re += temp_re;
      y[i].im += temp_im;
    }

    istart = 1;
    for (j = ju; j < 512; j += ju) {
      twid_re = dv[j];
      twid_im = b_dv[j];
      i = istart;
      ihi = istart + iheight;
      while (i < ihi) {
        temp_re_tmp = i + iy;
        temp_re = twid_re * y[temp_re_tmp].re - twid_im * y[temp_re_tmp].im;
        temp_im = twid_re * y[temp_re_tmp].im + twid_im * y[temp_re_tmp].re;
        y[temp_re_tmp].re = y[i].re - temp_re;
        y[temp_re_tmp].im = y[i].im - temp_im;
        y[i].re += temp_re;
        y[i].im += temp_im;
        i += ix;
      }

      istart++;
    }

    ju /= 2;
    iy = ix;
    ix += ix;
    iheight -= iy;
  }
}

/*
 * File trailer for fft.c
 *
 * [EOF]
 */
